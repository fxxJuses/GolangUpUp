# 面经

这里面主要记录了计算机网络相关的面试题。



## 路由器和交换机有什么区别？



## 局域网有哪些特性？

- 子网的掩码是一样的。 子网掩码255.255.255.0 会认为 192.168.0.X 这些ip都是同一个局域网。



## ip地址

A 类 、B类、C类都是私有地址 ， 只能够在局域网内使用

A 类 ： 10.0.0.0～10.255.255.255 

B 类 ： 172.16.0.0～172.31.255.255 

C 类 ： 192.168.0.0～192.168.255.255

D 类 ： 224.0.0.0 ~ 239.255.255.255

E 类 ： 240.0.0.0 ~ 255.255.255.254



## 有了ip为什么还要mac？

IP和Mac实际上是各司其职，ip可以类比于寄快递时候的地址，mac可以类比于寄快递时候的姓名。ip的主要作用是寻址，而mac的主要作用是身份认证。

## 如何通过ip获取到对方的mac？

一台主机想要将数据发送给另一台主机时，必须要知道目的主机的网络层地址（ip地址）。然后IP数据报文必须封装成帧才能够通过数据链路进行发送。**数据帧中就需要包含MAC地址，因此发送方必须获取到目的MAC地址。**

通过ARP（Address Resoluton Protocol ，地址解析协议 ）



## 什么是DHCP？

DHCP，动态主机配置协议，前身是BOOTP协议，是一个局域网的网络协议，使用UDP协议工作，常用的2个端口：67(DHCP server),68(DHCP client)。DHCP通常被用于局域网环境，主要作用是集中的管理、分配IP地址，使client动态的获得IP地址、Gateway地址、DNS服务器地址等信息。

![img](https://images2015.cnblogs.com/blog/686769/201610/686769-20161019110002810-907858031.png)







## 交换机如何分配ip？

交换机不会分配ip，每台机器的ip由**路由器**的DHCP协议来动态分配。

客户端（68端口）向服务端发送广播，源ip因为没有分配，可以采用0.0.0.0 ， 目的ip采用 255.255.255.255 来代替。 在数据链路层 源MAC用客户端自己的MAC地址，然后目标MAC用 ff:ff:ff:ff:ff:ff 来代替。向局域网中广播（DHCP Discover），知道找到路由器，路由器会通过DHCP分配一个ip（这个ip通常是一个私有地址），然后返回给客户端。客户端接受到消息后就有了自己的ip地址。

DHCP报文共有一下几种：

- **DHCP DISCOVER** ：客户端开始DHCP过程发送的包，是DHCP协议的开始
- **DHCP OFFER** ：服务器接收到DHCP DISCOVER之后做出的响应，它包括了给予客户端的IP（yiaddr）、客户端的MAC地址、租约过期时间、服务器的识别符以及其他信息
- **DHCP REQUEST** ：客户端对于服务器发出的DHCP OFFER所做出的响应。在续约租期的时候同样会使用。
- **DHCP ACK** ：服务器在接收到客户端发来的DHCP REQUEST之后发出的成功确认的报文。在建立连接的时候，客户端在接收到这个报文之后才会确认分配给它的IP和其他信息可以被允许使用。
- **DHCP NAK** ：DHCP ACK的相反的报文，表示服务器拒绝了客户端的请求。
- **DHCP RELEASE** ：一般出现在客户端关机、下线等状况。这个报文将会使DHCP服务器释放发出此报文的客户端的IP地址
- **DHCP INFORM** ：客户端发出的向服务器请求一些信息的报文
- **DHCP DECLINE** :当客户端发现服务器分配的IP地址无法使用（如IP地址冲突时），将发出此报文，通知服务器禁止
  使用该IP地址。

## 私有地址如何变成公有地址并连接互联网？

NAT（网络地址转换）

